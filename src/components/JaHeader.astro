---
import LanguageSwitcher from "./LanguageSwitcher.astro";
const links = [
  { href: "/ja/publications", label: "研究発表" },
  { href: "/ja/education", label: "学歴" },
  { href: "/ja/experiences", label: "職歴" },
  { href: "/ja/awards_and_grants", label: "受賞等" },
  { href: "/ja/blog", label: "ブログ" },
];
---
<header class="navbar">
  <nav>
    <div class="navbar__inner">
      <!-- logo -->
      <div class="navbar__logo">
        <a href="/ja/">清水 周一郎</a>
      </div>

      <!-- desktop links -->
      <ul class="navbar__list">
        {links.map(link => (
          <li><a href={link.href}>{link.label}</a></li>
        ))}
        <LanguageSwitcher />
      </ul>

      <!-- mobile toggle -->
      <button id="menu-button" class="navbar__toggle">☰</button>
    </div>

    <!-- mobile dropdown -->
    <div id="mobile-menu" class="navbar__mobile hidden">
      {links.map(link => (
        <a href={link.href}>{link.label}</a>
      ))}
      <div class="navbar__mobile-lang-switcher">
        <LanguageSwitcher />
      </div>
    </div>
  </nav>
</header>

<script>
  const menuButton = document.getElementById('menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  menuButton.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
    document.body.classList.toggle('menu-open');
  });
</script>
